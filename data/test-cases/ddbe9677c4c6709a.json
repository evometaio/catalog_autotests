{"uid":"ddbe9677c4c6709a","name":"test_full_navigation_cycle_on_map[chromium-cubix]","fullName":"tests.ui.test_map_page#test_full_navigation_cycle_on_map","historyId":"294129abb18f80a5221de00b9ff40c0f","time":{"start":1756296571572,"stop":1756296579832,"duration":8260},"description":"Тест полного цикла навигации: карта -> проект -> карта.","descriptionHtml":"<p>Тест полного цикла навигации: карта -&gt; проект -&gt; карта.</p>\n","status":"failed","statusMessage":"AssertionError: Текст проекта 'cubix' не найден на странице","statusTrace":"map_page = <pages.map_page.MapPage object at 0x7fa402ca0090>\nproject_name = 'cubix'\n\n    @allure.feature(\"Страница карты\")\n    @allure.story(\"Полный цикл навигации\")\n    @pytest.mark.regression\n    @pytest.mark.ui\n    @allure.severity(allure.severity_level.NORMAL)\n    @pytest.mark.parametrize(\"project_name\", [\"elire\", \"arisha\", \"cubix\"])\n    def test_full_navigation_cycle_on_map(map_page, project_name):\n        \"\"\"Тест полного цикла навигации: карта -> проект -> карта.\"\"\"\n        with allure.step(f\"Открываем страницу карты\"):\n            map_page.open_map_page()\n    \n        with allure.step(f\"Тестируем навигацию для проекта {project_name.upper()}\"):\n            # Открываем проект\n            map_page.open_project_page(project_name)\n>           map_page.check_project_page_loaded(project_name)\n\ntests/ui/test_map_page.py:82: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.map_page.MapPage object at 0x7fa402ca0090>, project_name = 'cubix'\n\n    def check_project_page_loaded(self, project_name: str):\n        \"\"\"Проверить загрузку страницы проекта.\"\"\"\n        # Проверяем, что мы на странице проекта (URL содержит /project/ и название проекта)\n        current_url = self.page.url\n        assert f'/project/{project_name.lower()}' in current_url, f\"Не на странице проекта {project_name}. Текущий URL: {current_url}\"\n    \n        # Проверяем наличие текста проекта на странице\n        body_text = self.page.locator('body').inner_text()\n>       assert project_name.lower() in body_text.lower(), f\"Текст проекта '{project_name}' не найден на странице\"\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AssertionError: Текст проекта 'cubix' не найден на странице\n\npages/map_page.py:58: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1756296513575,"stop":1756296513576,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_session_faker","time":{"start":1756296513576,"stop":1756296513637,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1756296513576,"stop":1756296513576,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1756296513576,"stop":1756296513576,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1756296513576,"stop":1756296513576,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type_launch_args","time":{"start":1756296513637,"stop":1756296513637,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright","time":{"start":1756296513637,"stop":1756296513927,"duration":290},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"launch_browser","time":{"start":1756296513928,"stop":1756296513928,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"connect_options","time":{"start":1756296513928,"stop":1756296513928,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser","time":{"start":1756296513928,"stop":1756296513985,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type","time":{"start":1756296513928,"stop":1756296513928,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"device","time":{"start":1756296513985,"stop":1756296513985,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_pw_artifacts_folder","time":{"start":1756296513985,"stop":1756296513985,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_context_args","time":{"start":1756296513986,"stop":1756296513986,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_context_args","time":{"start":1756296513986,"stop":1756296513986,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"new_context","time":{"start":1756296571541,"stop":1756296571541,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"output_path","time":{"start":1756296571541,"stop":1756296571541,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"context","time":{"start":1756296571541,"stop":1756296571545,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_artifacts_recorder","time":{"start":1756296571541,"stop":1756296571541,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page","time":{"start":1756296571545,"stop":1756296571570,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"map_page","time":{"start":1756296571571,"stop":1756296571571,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"screenshot_on_failure","time":{"start":1756296571571,"stop":1756296571571,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"Тест полного цикла навигации: карта -> проект -> карта.","status":"failed","statusMessage":"AssertionError: Текст проекта 'cubix' не найден на странице","statusTrace":"map_page = <pages.map_page.MapPage object at 0x7fa402ca0090>\nproject_name = 'cubix'\n\n    @allure.feature(\"Страница карты\")\n    @allure.story(\"Полный цикл навигации\")\n    @pytest.mark.regression\n    @pytest.mark.ui\n    @allure.severity(allure.severity_level.NORMAL)\n    @pytest.mark.parametrize(\"project_name\", [\"elire\", \"arisha\", \"cubix\"])\n    def test_full_navigation_cycle_on_map(map_page, project_name):\n        \"\"\"Тест полного цикла навигации: карта -> проект -> карта.\"\"\"\n        with allure.step(f\"Открываем страницу карты\"):\n            map_page.open_map_page()\n    \n        with allure.step(f\"Тестируем навигацию для проекта {project_name.upper()}\"):\n            # Открываем проект\n            map_page.open_project_page(project_name)\n>           map_page.check_project_page_loaded(project_name)\n\ntests/ui/test_map_page.py:82: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.map_page.MapPage object at 0x7fa402ca0090>, project_name = 'cubix'\n\n    def check_project_page_loaded(self, project_name: str):\n        \"\"\"Проверить загрузку страницы проекта.\"\"\"\n        # Проверяем, что мы на странице проекта (URL содержит /project/ и название проекта)\n        current_url = self.page.url\n        assert f'/project/{project_name.lower()}' in current_url, f\"Не на странице проекта {project_name}. Текущий URL: {current_url}\"\n    \n        # Проверяем наличие текста проекта на странице\n        body_text = self.page.locator('body').inner_text()\n>       assert project_name.lower() in body_text.lower(), f\"Текст проекта '{project_name}' не найден на странице\"\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AssertionError: Текст проекта 'cubix' не найден на странице\n\npages/map_page.py:58: AssertionError","steps":[{"name":"Открываем страницу карты","time":{"start":1756296571572,"stop":1756296576566,"duration":4994},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Тестируем навигацию для проекта CUBIX","time":{"start":1756296576566,"stop":1756296579826,"duration":3260},"status":"failed","statusMessage":"AssertionError: Текст проекта 'cubix' не найден на странице\n","statusTrace":"  File \"/home/runner/work/catalog_autotests/catalog_autotests/tests/ui/test_map_page.py\", line 82, in test_full_navigation_cycle_on_map\n    map_page.check_project_page_loaded(project_name)\n  File \"/home/runner/work/catalog_autotests/catalog_autotests/pages/map_page.py\", line 58, in check_project_page_loaded\n    assert project_name.lower() in body_text.lower(), f\"Текст проекта '{project_name}' не найден на странице\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true},"afterStages":[{"name":"screenshot_on_failure::0","time":{"start":1756296579867,"stop":1756296580190,"duration":323},"status":"passed","steps":[],"attachments":[{"uid":"5f3c55fd2341b1dd","name":"screenshot","source":"5f3c55fd2341b1dd.png","type":"image/png","size":626655}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"new_context::0","time":{"start":1756296580191,"stop":1756296580198,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_artifacts_recorder::0","time":{"start":1756296580198,"stop":1756296580198,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_pw_artifacts_folder::0","time":{"start":1756296580200,"stop":1756296580200,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser::0","time":{"start":1756296580201,"stop":1756296580239,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright::0","time":{"start":1756296580241,"stop":1756296580251,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"Страница карты"},{"name":"severity","value":"normal"},{"name":"story","value":"Полный цикл навигации"},{"name":"tag","value":"ui"},{"name":"tag","value":"regression"},{"name":"parentSuite","value":"tests.ui"},{"name":"suite","value":"test_map_page"},{"name":"host","value":"pkrvmqc4gcfdwos"},{"name":"thread","value":"6706-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui.test_map_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"},{"name":"project_name","value":"'cubix'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["ui","regression"]},"source":"ddbe9677c4c6709a.json","parameterValues":["'chromium'","'cubix'"]}