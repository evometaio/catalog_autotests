{"uid":"1ae3068af0006a0c","name":"test_arisha_apartment_information[webkit-agent]","fullName":"tests.ui.qube.arisha.test_arisha_apartment_widget#test_arisha_apartment_information","historyId":"63f0d3d3aaf39d230e3bfd90f28f09bf","time":{"start":1765368706070,"stop":1765368732115,"duration":26045},"description":"Тест проверки информации об апартаменте Arisha на всех роутах.","descriptionHtml":"<p>Тест проверки информации об апартаменте Arisha на всех роутах.</p>\n","status":"failed","statusMessage":"AssertionError: ❌ Информация о здании не найдена","statusTrace":"arisha_page = <pages.projects.qube.arisha_page.ArishaPage object at 0x1049fe310>\nroute_type = 'agent'\n\n    @allure.feature(\"Qube - Проект Arisha\")\n    @allure.story(\"Информация об апартаменте\")\n    @pytest.mark.smoke\n    @pytest.mark.regression\n    @pytest.mark.ui\n    @pytest.mark.flaky(reruns=2)\n    @pytest.mark.parametrize(\"route_type\", [\"map\", \"agent\", \"client\"])\n    def test_arisha_apartment_information(arisha_page, route_type):\n        \"\"\"Тест проверки информации об апартаменте Arisha на всех роутах.\"\"\"\n    \n        with allure.step(f\"Открываем страницу {route_type} и переходим к проекту Arisha\"):\n            arisha_page.open(route_type=route_type)\n            arisha_page.map.navigate_to_project(\"arisha\")\n    \n        with allure.step(\"Кликаем на кнопку All units\"):\n            arisha_page.click_all_units_button()\n            arisha_page.assertions.assert_url_contains(\n                \"catalog_2d\", \"Не перешли на страницу каталога\"\n            )\n    \n        with allure.step(\"Ищем и кликаем на первый доступный апартамент\"):\n            arisha_page.navigation.find_and_click_available_apartment()\n    \n        with allure.step(\"Ожидаем полной загрузки страницы апартамента\"):\n            arisha_page.apartment_info.wait_for_info_to_appear()\n            arisha_page.browser.wait_for_timeout(2000)\n    \n        with allure.step(\"Проверяем информацию о здании\"):\n            building_visible = arisha_page.apartment_info.check_building_info()\n>           arisha_page.assertions.assert_that(\n                building_visible, \"Информация о здании не найдена\"\n            )\n\ntests/ui/qube/arisha/test_arisha_apartment_widget.py:116: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.core.assertions.Assertions object at 0x1049fe3d0>\ncondition = False, error_message = 'Информация о здании не найдена'\n\n    def assert_that(self, condition: bool, error_message: str):\n        \"\"\"\n        Базовый assertion.\n    \n        Args:\n            condition: Условие которое должно быть True\n            error_message: Сообщение об ошибке если условие False\n        \"\"\"\n>       assert condition, f\"❌ {error_message}\"\n               ^^^^^^^^^\nE       AssertionError: ❌ Информация о здании не найдена\n\npages/core/assertions.py:32: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":true,"beforeStages":[{"name":"_verify_url","time":{"start":1765368081347,"stop":1765368081347,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1765368081347,"stop":1765368081347,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1765368081347,"stop":1765368081454,"duration":107},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1765368081347,"stop":1765368081347,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1765368081347,"stop":1765368081347,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1765368081455,"stop":1765368081757,"duration":302},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_environment","time":{"start":1765368081455,"stop":1765368081455,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1765368081757,"stop":1765368081757,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1765368081757,"stop":1765368081757,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1765368081757,"stop":1765368081757,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1765368081757,"stop":1765368081757,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1765368081758,"stop":1765368083438,"duration":1680},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1765368083438,"stop":1765368083438,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1765368083438,"stop":1765368083438,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1765368083439,"stop":1765368083439,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1765368083439,"stop":1765368083439,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1765368705857,"stop":1765368705857,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1765368705857,"stop":1765368705867,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1765368705857,"stop":1765368705857,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1765368705857,"stop":1765368705857,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1765368705867,"stop":1765368706068,"duration":201},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"arisha_page","time":{"start":1765368706069,"stop":1765368706069,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_test_parameters","time":{"start":1765368706069,"stop":1765368706069,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Тест проверки информации об апартаменте Arisha на всех роутах.","status":"failed","statusMessage":"AssertionError: ❌ Информация о здании не найдена","statusTrace":"arisha_page = <pages.projects.qube.arisha_page.ArishaPage object at 0x1049fe310>\nroute_type = 'agent'\n\n    @allure.feature(\"Qube - Проект Arisha\")\n    @allure.story(\"Информация об апартаменте\")\n    @pytest.mark.smoke\n    @pytest.mark.regression\n    @pytest.mark.ui\n    @pytest.mark.flaky(reruns=2)\n    @pytest.mark.parametrize(\"route_type\", [\"map\", \"agent\", \"client\"])\n    def test_arisha_apartment_information(arisha_page, route_type):\n        \"\"\"Тест проверки информации об апартаменте Arisha на всех роутах.\"\"\"\n    \n        with allure.step(f\"Открываем страницу {route_type} и переходим к проекту Arisha\"):\n            arisha_page.open(route_type=route_type)\n            arisha_page.map.navigate_to_project(\"arisha\")\n    \n        with allure.step(\"Кликаем на кнопку All units\"):\n            arisha_page.click_all_units_button()\n            arisha_page.assertions.assert_url_contains(\n                \"catalog_2d\", \"Не перешли на страницу каталога\"\n            )\n    \n        with allure.step(\"Ищем и кликаем на первый доступный апартамент\"):\n            arisha_page.navigation.find_and_click_available_apartment()\n    \n        with allure.step(\"Ожидаем полной загрузки страницы апартамента\"):\n            arisha_page.apartment_info.wait_for_info_to_appear()\n            arisha_page.browser.wait_for_timeout(2000)\n    \n        with allure.step(\"Проверяем информацию о здании\"):\n            building_visible = arisha_page.apartment_info.check_building_info()\n>           arisha_page.assertions.assert_that(\n                building_visible, \"Информация о здании не найдена\"\n            )\n\ntests/ui/qube/arisha/test_arisha_apartment_widget.py:116: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.core.assertions.Assertions object at 0x1049fe3d0>\ncondition = False, error_message = 'Информация о здании не найдена'\n\n    def assert_that(self, condition: bool, error_message: str):\n        \"\"\"\n        Базовый assertion.\n    \n        Args:\n            condition: Условие которое должно быть True\n            error_message: Сообщение об ошибке если условие False\n        \"\"\"\n>       assert condition, f\"❌ {error_message}\"\n               ^^^^^^^^^\nE       AssertionError: ❌ Информация о здании не найдена\n\npages/core/assertions.py:32: AssertionError","steps":[{"name":"Открываем страницу agent и переходим к проекту Arisha","time":{"start":1765368706070,"stop":1765368714905,"duration":8835},"status":"passed","steps":[{"name":"Навигация к проекту ARISHA","time":{"start":1765368711456,"stop":1765368714905,"duration":3449},"status":"passed","steps":[{"name":"Ожидаем загрузки карты","time":{"start":1765368711456,"stop":1765368713549,"duration":2093},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Кликаем на проект ARISHA","time":{"start":1765368713549,"stop":1765368713656,"duration":107},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Кликаем на Explore Project для ARISHA","time":{"start":1765368713656,"stop":1765368714905,"duration":1249},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Кликаем на кнопку All units","time":{"start":1765368714905,"stop":1765368718406,"duration":3501},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Ищем и кликаем на первый доступный апартамент","time":{"start":1765368718408,"stop":1765368722090,"duration":3682},"status":"passed","steps":[{"name":"Ищем доступный апартамент в каталоге","time":{"start":1765368718408,"stop":1765368722090,"duration":3682},"status":"passed","steps":[],"attachments":[{"uid":"f363f621b482e38a","name":"Selected Apartment","source":"f363f621b482e38a.attach","type":"text/plain","size":49}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Ожидаем полной загрузки страницы апартамента","time":{"start":1765368722090,"stop":1765368732100,"duration":10010},"status":"passed","steps":[{"name":"Ожидаем появления информации об апартаменте","time":{"start":1765368722090,"stop":1765368730092,"duration":8002},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяем информацию о здании","time":{"start":1765368732100,"stop":1765368732113,"duration":13},"status":"failed","statusMessage":"AssertionError: ❌ Информация о здании не найдена\n","statusTrace":"  File \"/Users/runner/work/catalog_autotests/catalog_autotests/tests/ui/qube/arisha/test_arisha_apartment_widget.py\", line 116, in test_arisha_apartment_information\n    arisha_page.assertions.assert_that(\n  File \"/Users/runner/work/catalog_autotests/catalog_autotests/pages/core/assertions.py\", line 32, in assert_that\n    assert condition, f\"❌ {error_message}\"\n           ^^^^^^^^^\n","steps":[{"name":"Проверяем информацию о здании","time":{"start":1765368732101,"stop":1765368732113,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":12,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_test_parameters::0","time":{"start":1765368732127,"stop":1765368732175,"duration":48},"status":"passed","steps":[],"attachments":[{"uid":"a27cef139e6a18ae","name":"screenshot","source":"a27cef139e6a18ae.png","type":"image/png","size":96130}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"new_context::0","time":{"start":1765368732176,"stop":1765368732182,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1765368732183,"stop":1765368732183,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1765369154664,"stop":1765369154665,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1765369154666,"stop":1765369154690,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1765369154712,"stop":1765369154719,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"environment","value":"prod"},{"name":"story","value":"Информация об апартаменте"},{"name":"feature","value":"Qube - Проект Arisha"},{"name":"tag","value":"ui"},{"name":"tag","value":"regression"},{"name":"tag","value":"smoke"},{"name":"parentSuite","value":"tests.ui.qube.arisha"},{"name":"suite","value":"test_arisha_apartment_widget"},{"name":"host","value":"sjc22-bt143-b35971fe-01ca-49a5-8977-73fcef3341c2-42FB907209F5.local"},{"name":"thread","value":"2569-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui.qube.arisha.test_arisha_apartment_widget"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Device","value":"'desktop'"},{"name":"Operating System","value":"'macOS'"},{"name":"Platform","value":"'macos-latest'"},{"name":"browser_name","value":"'webkit'"},{"name":"route_type","value":"'agent'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c6e0cfe878b18966","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 10000ms exceeded.\nCall log:\n  - waiting for locator(\"._info_1k7zz_45, .ant-card\") to be visible\n    4 × locator resolved to 2 elements. Proceeding with the first one: <div class=\"ant-card ant-card-bordered _card_6p1wl_1 FilterFlowModal_modal__OCE0i css-dev-only-do-not-override-1x0dypw\">…</div>\n    19 × locator resolved to hidden <div class=\"ant-card ant-card-bordered _card_6p1wl_1 FilterFlowModal_modal__OCE0i css-dev-only-do-not-override-1x0dypw\">…</div>","time":{"start":1765368678358,"stop":1765368705510,"duration":27152}},{"uid":"66e894a3ac5948bb","status":"failed","statusDetails":"AssertionError: ❌ Информация о здании не найдена","time":{"start":1765368651105,"stop":1765368677713,"duration":26608}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":1,"skipped":0,"passed":82,"unknown":0,"total":84},"items":[{"uid":"e3eeed06e8487f21","status":"passed","time":{"start":1765359297672,"stop":1765359334149,"duration":36477}},{"uid":"132d0044f474e0b","status":"passed","time":{"start":1765355579228,"stop":1765355602729,"duration":23501}},{"uid":"78993ed986c6aaf7","status":"passed","time":{"start":1765269290877,"stop":1765269320758,"duration":29881}},{"uid":"1f94fe23191db187","status":"passed","time":{"start":1765182907024,"stop":1765182936494,"duration":29470}},{"uid":"f95a713122c354e0","status":"passed","time":{"start":1765098082144,"stop":1765098113095,"duration":30951}},{"uid":"1c868873970e2971","status":"passed","time":{"start":1765096234119,"stop":1765096261380,"duration":27261}},{"uid":"c77d53e7005ba320","status":"passed","time":{"start":1765010032981,"stop":1765010069685,"duration":36704}},{"uid":"3600abd8ee7105db","status":"passed","time":{"start":1764923710864,"stop":1764923738992,"duration":28128}},{"uid":"e3d27ade2af2883e","status":"passed","time":{"start":1764837593284,"stop":1764837623944,"duration":30660}},{"uid":"52292f13993c3aad","status":"passed","time":{"start":1764750781350,"stop":1764750798654,"duration":17304}},{"uid":"b588df8551637d7c","status":"passed","time":{"start":1764664681564,"stop":1764664700511,"duration":18947}},{"uid":"2474673eecd25577","status":"passed","time":{"start":1764578194953,"stop":1764578212248,"duration":17295}},{"uid":"c4d9824883dc8533","status":"passed","time":{"start":1764490500320,"stop":1764490522465,"duration":22145}},{"uid":"6208b5ca9161cb41","status":"passed","time":{"start":1764404028722,"stop":1764404047557,"duration":18835}},{"uid":"3cac0f3cbc08233b","status":"passed","time":{"start":1764317650575,"stop":1764317667498,"duration":16923}},{"uid":"20779984dda43ba3","status":"passed","time":{"start":1764231273334,"stop":1764231292142,"duration":18808}},{"uid":"712e10ec29045167","status":"passed","time":{"start":1764144718229,"stop":1764144736216,"duration":17987}},{"uid":"9b8abd436824ae0b","status":"passed","time":{"start":1764058361637,"stop":1764058382857,"duration":21220}},{"uid":"d1fa89649c730805","status":"passed","time":{"start":1763972025597,"stop":1763972046820,"duration":21223}},{"uid":"349f2ec9ac1d69c2","status":"passed","time":{"start":1763885549978,"stop":1763885570560,"duration":20582}}]},"tags":["ui","regression","smoke"]},"source":"1ae3068af0006a0c.json","parameterValues":["'desktop'","'macOS'","'macos-latest'","'webkit'","'agent'"]}