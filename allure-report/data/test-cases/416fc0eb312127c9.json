{"uid":"416fc0eb312127c9","name":"test_arisha_mobile_building_floor_apartment_navigation[chromium-agent]","fullName":"tests.ui.mobile.qube.arisha.test_arisha_mobile_building_navigation.TestArishaMobileBuildingNavigation#test_arisha_mobile_building_floor_apartment_navigation","historyId":"4a704f7fa8a05f9c75cfa5f55537d3b6","time":{"start":1761294765748,"stop":1761294778997,"duration":13249},"description":"Тест полной навигации по зданию, этажу и квартире на мобильном устройстве на всех роутах.","descriptionHtml":"<p>Тест полной навигации по зданию, этажу и квартире на мобильном устройстве на всех роутах.</p>\n","status":"failed","statusMessage":"AssertionError: ❌ Не удалось кликнуть по этажу 1","statusTrace":"self = <test_arisha_mobile_building_navigation.TestArishaMobileBuildingNavigation object at 0x00000197B9907710>\nmobile_page = <pages.mobile.mobile_page.MobilePage object at 0x00000197B99A1F50>\nroute_type = 'agent'\n\n    @allure.severity(allure.severity_level.CRITICAL)\n    @pytest.mark.mobile\n    @pytest.mark.regression\n    @pytest.mark.parametrize(\"route_type\", [\"map\", \"agent\", \"client\"])\n    def test_arisha_mobile_building_floor_apartment_navigation(\n        self, mobile_page, route_type\n    ):\n        \"\"\"Тест полной навигации по зданию, этажу и квартире на мобильном устройстве на всех роутах.\"\"\"\n    \n        with allure.step(f\"Переход на страницу /area Arisha через {route_type}\"):\n            # Открываем карту\n            mobile_page.open(route_type=route_type)\n    \n            # Кликаем на проект Arisha\n            mobile_page.mobile_map.click_project(\"arisha\")\n            mobile_page.mobile_map.wait_for_project_modal()\n            mobile_page.mobile_map.click_explore_project(\"arisha\")\n    \n            # Проверяем что попали на страницу area\n            mobile_page.assertions.assert_url_contains(\n                \"/area\", \"Не перешли на страницу /area после клика на проект\"\n            )\n    \n        with allure.step(\"Навигация по зданию 1, этажу 1\"):\n            mobile_page.mobile_navigation.close_zoom_modal()\n    \n            # Кликаем на здание\n            building_clicked = mobile_page.mobile_navigation.click_building(\"1\")\n            mobile_page.assertions.assert_that(\n                building_clicked, \"Не удалось кликнуть по зданию 1\"\n            )\n    \n            # Кликаем на кнопку \"View 1\"\n            view_clicked = mobile_page.mobile_navigation.click_view_building_button()\n            mobile_page.assertions.assert_that(\n                view_clicked, \"Не удалось кликнуть по кнопке View 1\"\n            )\n    \n            # Ждем обновления UI после клика \"View 1\"\n            mobile_page.browser.wait_for_timeout(3000)\n    \n            # Кликаем на этаж\n            floor_clicked = mobile_page.mobile_navigation.click_floor(\"1\")\n>           mobile_page.assertions.assert_that(\n                floor_clicked, \"Не удалось кликнуть по этажу 1\"\n            )\n\ntests\\ui\\mobile\\qube\\arisha\\test_arisha_mobile_building_navigation.py:56: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.core.assertions.Assertions object at 0x00000197B99A1D50>\ncondition = False, error_message = 'Не удалось кликнуть по этажу 1'\n\n    def assert_that(self, condition: bool, error_message: str):\n        \"\"\"\n        Базовый assertion.\n    \n        Args:\n            condition: Условие которое должно быть True\n            error_message: Сообщение об ошибке если условие False\n        \"\"\"\n>       assert condition, f\"❌ {error_message}\"\n               ^^^^^^^^^\nE       AssertionError: ❌ Не удалось кликнуть по этажу 1\n\npages\\core\\assertions.py:32: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1761294485679,"stop":1761294485760,"duration":81},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1761294485760,"stop":1761294485760,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1761294485760,"stop":1761294485760,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1761294485760,"stop":1761294485760,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_environment","time":{"start":1761294485762,"stop":1761294485762,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1761294485762,"stop":1761294485762,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1761294485762,"stop":1761294486235,"duration":473},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1761294486235,"stop":1761294486235,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1761294486235,"stop":1761294486235,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1761294486235,"stop":1761294486235,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1761294486237,"stop":1761294486237,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1761294486237,"stop":1761294486410,"duration":173},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1761294486410,"stop":1761294486418,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1761294486410,"stop":1761294486410,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1761294486418,"stop":1761294486418,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1761294486418,"stop":1761294486418,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1761294765675,"stop":1761294765684,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1761294765675,"stop":1761294765675,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1761294765675,"stop":1761294765675,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1761294765675,"stop":1761294765675,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1761294765684,"stop":1761294765747,"duration":63},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"mobile_page","time":{"start":1761294765747,"stop":1761294765747,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_test_parameters","time":{"start":1761294765747,"stop":1761294765747,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Тест полной навигации по зданию, этажу и квартире на мобильном устройстве на всех роутах.","status":"failed","statusMessage":"AssertionError: ❌ Не удалось кликнуть по этажу 1","statusTrace":"self = <test_arisha_mobile_building_navigation.TestArishaMobileBuildingNavigation object at 0x00000197B9907710>\nmobile_page = <pages.mobile.mobile_page.MobilePage object at 0x00000197B99A1F50>\nroute_type = 'agent'\n\n    @allure.severity(allure.severity_level.CRITICAL)\n    @pytest.mark.mobile\n    @pytest.mark.regression\n    @pytest.mark.parametrize(\"route_type\", [\"map\", \"agent\", \"client\"])\n    def test_arisha_mobile_building_floor_apartment_navigation(\n        self, mobile_page, route_type\n    ):\n        \"\"\"Тест полной навигации по зданию, этажу и квартире на мобильном устройстве на всех роутах.\"\"\"\n    \n        with allure.step(f\"Переход на страницу /area Arisha через {route_type}\"):\n            # Открываем карту\n            mobile_page.open(route_type=route_type)\n    \n            # Кликаем на проект Arisha\n            mobile_page.mobile_map.click_project(\"arisha\")\n            mobile_page.mobile_map.wait_for_project_modal()\n            mobile_page.mobile_map.click_explore_project(\"arisha\")\n    \n            # Проверяем что попали на страницу area\n            mobile_page.assertions.assert_url_contains(\n                \"/area\", \"Не перешли на страницу /area после клика на проект\"\n            )\n    \n        with allure.step(\"Навигация по зданию 1, этажу 1\"):\n            mobile_page.mobile_navigation.close_zoom_modal()\n    \n            # Кликаем на здание\n            building_clicked = mobile_page.mobile_navigation.click_building(\"1\")\n            mobile_page.assertions.assert_that(\n                building_clicked, \"Не удалось кликнуть по зданию 1\"\n            )\n    \n            # Кликаем на кнопку \"View 1\"\n            view_clicked = mobile_page.mobile_navigation.click_view_building_button()\n            mobile_page.assertions.assert_that(\n                view_clicked, \"Не удалось кликнуть по кнопке View 1\"\n            )\n    \n            # Ждем обновления UI после клика \"View 1\"\n            mobile_page.browser.wait_for_timeout(3000)\n    \n            # Кликаем на этаж\n            floor_clicked = mobile_page.mobile_navigation.click_floor(\"1\")\n>           mobile_page.assertions.assert_that(\n                floor_clicked, \"Не удалось кликнуть по этажу 1\"\n            )\n\ntests\\ui\\mobile\\qube\\arisha\\test_arisha_mobile_building_navigation.py:56: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.core.assertions.Assertions object at 0x00000197B99A1D50>\ncondition = False, error_message = 'Не удалось кликнуть по этажу 1'\n\n    def assert_that(self, condition: bool, error_message: str):\n        \"\"\"\n        Базовый assertion.\n    \n        Args:\n            condition: Условие которое должно быть True\n            error_message: Сообщение об ошибке если условие False\n        \"\"\"\n>       assert condition, f\"❌ {error_message}\"\n               ^^^^^^^^^\nE       AssertionError: ❌ Не удалось кликнуть по этажу 1\n\npages\\core\\assertions.py:32: AssertionError","steps":[{"name":"Переход на страницу /area Arisha через agent","time":{"start":1761294765748,"stop":1761294771372,"duration":5624},"status":"passed","steps":[{"name":"Кликаем по проекту ARISHA на мобильном","time":{"start":1761294768936,"stop":1761294770170,"duration":1234},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Кликаем на Explore Project для ARISHA","time":{"start":1761294770188,"stop":1761294771372,"duration":1184},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Навигация по зданию 1, этажу 1","time":{"start":1761294771372,"stop":1761294778996,"duration":7624},"status":"failed","statusMessage":"AssertionError: ❌ Не удалось кликнуть по этажу 1\n","statusTrace":"  File \"D:\\a\\catalog_autotests\\catalog_autotests\\tests\\ui\\mobile\\qube\\arisha\\test_arisha_mobile_building_navigation.py\", line 56, in test_arisha_mobile_building_floor_apartment_navigation\n    mobile_page.assertions.assert_that(\n  File \"D:\\a\\catalog_autotests\\catalog_autotests\\pages\\core\\assertions.py\", line 32, in assert_that\n    assert condition, f\"❌ {error_message}\"\n           ^^^^^^^^^\n","steps":[],"attachments":[{"uid":"3e31b34624a2a168","name":"Zoom Modal Closed","source":"3e31b34624a2a168.txt","type":"text/plain","size":65},{"uid":"63b240a2ebc5c22b","name":"Building Click","source":"63b240a2ebc5c22b.txt","type":"text/plain","size":47},{"uid":"42975da421bb7306","name":"View Building Click","source":"42975da421bb7306.txt","type":"text/plain","size":59}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_test_parameters::0","time":{"start":1761294779005,"stop":1761294779661,"duration":656},"status":"passed","steps":[],"attachments":[{"uid":"73773c06a66d455b","name":"screenshot","source":"73773c06a66d455b.png","type":"image/png","size":1915372}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"new_context::0","time":{"start":1761294779663,"stop":1761294779682,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1761294779684,"stop":1761294779684,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1761294917847,"stop":1761294917848,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1761294917849,"stop":1761294917909,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1761294917913,"stop":1761294917928,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"device","value":"pixel_5"},{"name":"environment","value":"prod"},{"name":"story","value":"Навигация по зданиям Arisha"},{"name":"feature","value":"Qube - Проект Arisha (mobile)"},{"name":"severity","value":"critical"},{"name":"tag","value":"regression"},{"name":"tag","value":"mobile"},{"name":"tag","value":"iphone"},{"name":"tag","value":"mobile"},{"name":"parentSuite","value":"tests.ui.mobile.qube.arisha"},{"name":"suite","value":"test_arisha_mobile_building_navigation"},{"name":"subSuite","value":"TestArishaMobileBuildingNavigation"},{"name":"host","value":"runnervm8crnl"},{"name":"thread","value":"9212-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui.mobile.qube.arisha.test_arisha_mobile_building_navigation"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Device","value":"'pixel_5'"},{"name":"Operating System","value":"'Windows'"},{"name":"Platform","value":"'Unknown'"},{"name":"Viewport","value":"'393x851'"},{"name":"browser_name","value":"'chromium'"},{"name":"route_type","value":"'agent'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["regression","mobile","iphone"]},"source":"416fc0eb312127c9.json","parameterValues":["'pixel_5'","'Windows'","'Unknown'","'393x851'","'chromium'","'agent'"]}