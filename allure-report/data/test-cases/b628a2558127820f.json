{"uid":"b628a2558127820f","name":"test_arisha_mobile_download_pdf_on_catalog_page[chromium]","fullName":"tests.ui.mobile.qube.arisha.test_arisha_mobile_agent_route.TestArishaMobileAgentRoute#test_arisha_mobile_download_pdf_on_catalog_page","historyId":"98ce2bcbf6be6023ccb9b09e54117f49","time":{"start":1764924475452,"stop":1764924496019,"duration":20567},"description":"Тест скачивания PDF на странице каталога Arisha на мобильном устройстве.","descriptionHtml":"<p>Тест скачивания PDF на странице каталога Arisha на мобильном устройстве.</p>\n","status":"failed","statusMessage":"AssertionError: PDF кнопка не найдена","statusTrace":"self = <test_arisha_mobile_agent_route.TestArishaMobileAgentRoute object at 0x000001CB9C9A1350>\nmobile_page = <pages.mobile.mobile_page.MobilePage object at 0x000001CB9D0D3E10>\n\n    @allure.feature(\"Qube - Проект Arisha (mobile)\")\n    @allure.story(\"Скачивание PDF предложения\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    @pytest.mark.mobile\n    @pytest.mark.regression\n    @pytest.mark.flaky(reruns=2, reruns_delay=2)\n    def test_arisha_mobile_download_pdf_on_catalog_page(self, mobile_page):\n        \"\"\"Тест скачивания PDF на странице каталога Arisha на мобильном устройстве.\"\"\"\n    \n        try:\n            with allure.step(\"Переходим на страницу каталога Arisha\"):\n                mobile_page.navigate_to_mobile_catalog_page(\"arisha\")\n                current_url = mobile_page.page.url\n                mobile_page.assertions.assert_that(\n                    \"catalog_2d\" in current_url or \"/area\" in current_url,\n                    \"Не перешли на страницу каталога или area\",\n                )\n    \n            with allure.step(\"Ищем и кликаем на первый доступный апартамент\"):\n                mobile_page.mobile_navigation.find_and_click_available_apartment()\n                mobile_page.page.wait_for_timeout(1000)\n    \n            with allure.step(\"Кликаем на кнопку PDF\"):\n>               pdf_clicked = mobile_page.click_mobile_pdf_button()\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\ui\\mobile\\qube\\arisha\\test_arisha_mobile_agent_route.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.mobile.mobile_page.MobilePage object at 0x000001CB9D0D3E10>\n\n    def click_mobile_pdf_button(self):\n        \"\"\"Кликнуть по PDF кнопке на мобильном устройстве.\"\"\"\n        with allure.step(\"Ищем и кликаем по PDF кнопке\"):\n            # Ищем PDF кнопку через иконку\n            pdf_icons = self.page.locator(MOBILE_PDF_BUTTON)\n    \n            if pdf_icons.count() == 0:\n>               raise AssertionError(\"PDF кнопка не найдена\")\nE               AssertionError: PDF кнопка не найдена\n\npages\\mobile\\mobile_page.py:323: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1764924445726,"stop":1764924445837,"duration":111},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1764924445837,"stop":1764924445837,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1764924445837,"stop":1764924445837,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_environment","time":{"start":1764924445837,"stop":1764924445837,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1764924445837,"stop":1764924445837,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1764924445837,"stop":1764924445837,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1764924445839,"stop":1764924446406,"duration":567},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1764924446406,"stop":1764924446406,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1764924446406,"stop":1764924446406,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1764924446406,"stop":1764924446586,"duration":180},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1764924446406,"stop":1764924446406,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1764924446406,"stop":1764924446406,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1764924446586,"stop":1764924446586,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1764924446586,"stop":1764924446588,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1764924446588,"stop":1764924446588,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1764924446588,"stop":1764924446588,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1764924475385,"stop":1764924475385,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1764924475385,"stop":1764924475385,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1764924475386,"stop":1764924475386,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1764924475386,"stop":1764924475396,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1764924475397,"stop":1764924475451,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_test_parameters","time":{"start":1764924475451,"stop":1764924475451,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"mobile_page","time":{"start":1764924475451,"stop":1764924475451,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Тест скачивания PDF на странице каталога Arisha на мобильном устройстве.","status":"failed","statusMessage":"AssertionError: PDF кнопка не найдена","statusTrace":"self = <test_arisha_mobile_agent_route.TestArishaMobileAgentRoute object at 0x000001CB9C9A1350>\nmobile_page = <pages.mobile.mobile_page.MobilePage object at 0x000001CB9D0D3E10>\n\n    @allure.feature(\"Qube - Проект Arisha (mobile)\")\n    @allure.story(\"Скачивание PDF предложения\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    @pytest.mark.mobile\n    @pytest.mark.regression\n    @pytest.mark.flaky(reruns=2, reruns_delay=2)\n    def test_arisha_mobile_download_pdf_on_catalog_page(self, mobile_page):\n        \"\"\"Тест скачивания PDF на странице каталога Arisha на мобильном устройстве.\"\"\"\n    \n        try:\n            with allure.step(\"Переходим на страницу каталога Arisha\"):\n                mobile_page.navigate_to_mobile_catalog_page(\"arisha\")\n                current_url = mobile_page.page.url\n                mobile_page.assertions.assert_that(\n                    \"catalog_2d\" in current_url or \"/area\" in current_url,\n                    \"Не перешли на страницу каталога или area\",\n                )\n    \n            with allure.step(\"Ищем и кликаем на первый доступный апартамент\"):\n                mobile_page.mobile_navigation.find_and_click_available_apartment()\n                mobile_page.page.wait_for_timeout(1000)\n    \n            with allure.step(\"Кликаем на кнопку PDF\"):\n>               pdf_clicked = mobile_page.click_mobile_pdf_button()\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\ui\\mobile\\qube\\arisha\\test_arisha_mobile_agent_route.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.mobile.mobile_page.MobilePage object at 0x000001CB9D0D3E10>\n\n    def click_mobile_pdf_button(self):\n        \"\"\"Кликнуть по PDF кнопке на мобильном устройстве.\"\"\"\n        with allure.step(\"Ищем и кликаем по PDF кнопке\"):\n            # Ищем PDF кнопку через иконку\n            pdf_icons = self.page.locator(MOBILE_PDF_BUTTON)\n    \n            if pdf_icons.count() == 0:\n>               raise AssertionError(\"PDF кнопка не найдена\")\nE               AssertionError: PDF кнопка не найдена\n\npages\\mobile\\mobile_page.py:323: AssertionError","steps":[{"name":"Переходим на страницу каталога Arisha","time":{"start":1764924475452,"stop":1764924486336,"duration":10884},"status":"passed","steps":[{"name":"Переходим на страницу каталога ARISHA через полную навигацию","time":{"start":1764924475452,"stop":1764924486336,"duration":10884},"status":"passed","steps":[{"name":"Кликаем по проекту ARISHA на мобильном","time":{"start":1764924479781,"stop":1764924480101,"duration":320},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Кликаем на Explore Project для ARISHA","time":{"start":1764924480101,"stop":1764924481787,"duration":1686},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Ищем и кликаем на первый доступный апартамент","time":{"start":1764924486336,"stop":1764924495991,"duration":9655},"status":"passed","steps":[{"name":"Ищем свободный apartment","time":{"start":1764924486336,"stop":1764924494983,"duration":8647},"status":"passed","steps":[{"name":"Кликаем на доступный apartment 1","time":{"start":1764924489860,"stop":1764924494983,"duration":5123},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Кликаем на кнопку PDF","time":{"start":1764924495991,"stop":1764924496004,"duration":13},"status":"failed","statusMessage":"AssertionError: PDF кнопка не найдена\n","statusTrace":"  File \"D:\\a\\catalog_autotests\\catalog_autotests\\tests\\ui\\mobile\\qube\\arisha\\test_arisha_mobile_agent_route.py\", line 31, in test_arisha_mobile_download_pdf_on_catalog_page\n    pdf_clicked = mobile_page.click_mobile_pdf_button()\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\a\\catalog_autotests\\catalog_autotests\\pages\\mobile\\mobile_page.py\", line 323, in click_mobile_pdf_button\n    raise AssertionError(\"PDF кнопка не найдена\")\n","steps":[{"name":"Ищем и кликаем по PDF кнопке","time":{"start":1764924495991,"stop":1764924496004,"duration":13},"status":"failed","statusMessage":"AssertionError: PDF кнопка не найдена\n","statusTrace":"  File \"D:\\a\\catalog_autotests\\catalog_autotests\\pages\\mobile\\mobile_page.py\", line 323, in click_mobile_pdf_button\n    raise AssertionError(\"PDF кнопка не найдена\")\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяем адаптивность на мобильном устройстве","time":{"start":1764924496004,"stop":1764924496019,"duration":15},"status":"passed","steps":[{"name":"Проверяем адаптивность на мобильном устройстве","time":{"start":1764924496004,"stop":1764924496019,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":11,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_test_parameters::0","time":{"start":1764924496033,"stop":1764924496305,"duration":272},"status":"passed","steps":[],"attachments":[{"uid":"f1eb5c70b3aed556","name":"screenshot","source":"f1eb5c70b3aed556.png","type":"image/png","size":31254}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"new_context::0","time":{"start":1764924496307,"stop":1764924496322,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1764924496322,"stop":1764924496322,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1764925028957,"stop":1764925029013,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1764925028957,"stop":1764925028957,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1764925029017,"stop":1764925029033,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"device","value":"iphone_13"},{"name":"environment","value":"prod"},{"name":"story","value":"Скачивание PDF предложения"},{"name":"severity","value":"critical"},{"name":"feature","value":"Qube - Проект Arisha (mobile)"},{"name":"tag","value":"regression"},{"name":"tag","value":"mobile"},{"name":"parentSuite","value":"tests.ui.mobile.qube.arisha"},{"name":"suite","value":"test_arisha_mobile_agent_route"},{"name":"subSuite","value":"TestArishaMobileAgentRoute"},{"name":"host","value":"runnervmue16e"},{"name":"thread","value":"1528-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui.mobile.qube.arisha.test_arisha_mobile_agent_route"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Device","value":"'iphone_13'"},{"name":"Operating System","value":"'Windows'"},{"name":"Platform","value":"'Unknown'"},{"name":"Viewport","value":"'390x844'"},{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["regression","mobile"]},"source":"b628a2558127820f.json","parameterValues":["'iphone_13'","'Windows'","'Unknown'","'390x844'","'chromium'"]}