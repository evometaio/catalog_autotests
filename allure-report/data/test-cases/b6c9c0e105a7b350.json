{"uid":"b6c9c0e105a7b350","name":"test_mark_mobile_building_floor_apartment_navigation[chromium]","fullName":"tests.ui.mobile.lsr.mark.test_mark_mobile_building_floor_apartment_navigation#test_mark_mobile_building_floor_apartment_navigation","historyId":"d5585ffa2d402a2821f785acfa80eae1","time":{"start":1765443451991,"stop":1765443487940,"duration":35949},"description":"Тест навигации по зданиям, этажам и апартаментам проекта MARK на мобильном устройстве.","descriptionHtml":"<p>Тест навигации по зданиям, этажам и апартаментам проекта MARK на мобильном устройстве.</p>\n","status":"failed","statusMessage":"AssertionError: ❌ Не удалось кликнуть по кнопке 'Посмотреть квартиру 6'","statusTrace":"mobile_page = <pages.mobile.mobile_page.MobilePage object at 0x00000286C5B3DFD0>\n\n    @allure.feature(\"LSR - Проект MARK (mobile)\")\n    @allure.story(\"Навигация по зданиям, этажам и апартаментам\")\n    @pytest.mark.smoke\n    @pytest.mark.regression\n    @pytest.mark.mobile\n    @pytest.mark.iphone\n    @pytest.mark.flaky(reruns=2, reruns_delay=2)\n    def test_mark_mobile_building_floor_apartment_navigation(mobile_page):\n        \"\"\"Тест навигации по зданиям, этажам и апартаментам проекта MARK на мобильном устройстве.\"\"\"\n    \n        with allure.step(\"Открываем страницу MARK на мобильном\"):\n            # Для MARK нет map роута, открываем напрямую страницу проекта\n            mobile_page.page.goto(mobile_page.base_url)\n            mobile_page.wait_for_page_load()\n    \n        with allure.step(\"Открываем мобильное меню\"):\n            mobile_page.mobile_navigation.open_mobile_menu()\n    \n        with allure.step(\"Навигация по зданию 1, этажу 6\"):\n            mobile_page.mobile_navigation.close_zoom_modal()\n    \n            # Кликаем на \"Корпус\" в мобильном меню\n            mobile_page.mobile_navigation.click_mark_building_menu()\n    \n            # Кликаем на корпус 1\n            building_clicked = mobile_page.mobile_navigation.click_mark_building_item(\n                building_number=1\n            )\n            mobile_page.assertions.assert_that(\n                building_clicked, \"Не удалось кликнуть по корпусу 1\"\n            )\n            mobile_page.assertions.assert_url_contains(\n                \"/building/mark-k1\", \"Не перешли на страницу здания 1\"\n            )\n    \n            # Ждем появления этажей внизу страницы\n            mobile_page.browser.wait_for_timeout(2000)\n    \n            # Кликаем на этаж 6 внизу страницы\n            floor_clicked = mobile_page.mobile_navigation.click_mark_floor_item(\n                floor_number=6\n            )\n            mobile_page.assertions.assert_that(\n                floor_clicked, \"Не удалось кликнуть по этажу 6\"\n            )\n    \n            # Кликаем на кнопку \"Посмотреть этаж 6\"\n            view_floor_clicked = mobile_page.mobile_navigation.click_mark_view_floor_button(\n                floor_number=6\n            )\n            mobile_page.assertions.assert_that(\n                view_floor_clicked, \"Не удалось кликнуть по кнопке 'Посмотреть этаж 6'\"\n            )\n    \n            # Ждем появления апартаментов внизу страницы\n            mobile_page.browser.wait_for_timeout(2000)\n    \n            # Выбираем первый доступный апартамент из списка внизу страницы\n            apartment_number = mobile_page.mobile_navigation.click_mark_apartment_item()\n            mobile_page.assertions.assert_that(\n                apartment_number, \"Не удалось выбрать апартамент\"\n            )\n    \n            # Кликаем на кнопку \"Посмотреть квартиру {номер}\"\n            view_apartment_clicked = (\n                mobile_page.mobile_navigation.click_mark_view_apartment_button(\n                    apartment_number\n                )\n            )\n>           mobile_page.assertions.assert_that(\n                view_apartment_clicked,\n                f\"Не удалось кликнуть по кнопке 'Посмотреть квартиру {apartment_number}'\",\n            )\n\ntests\\ui\\mobile\\lsr\\mark\\test_mark_mobile_building_floor_apartment_navigation.py:74: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.core.assertions.Assertions object at 0x00000286C5B3E190>\ncondition = False\nerror_message = \"Не удалось кликнуть по кнопке 'Посмотреть квартиру 6'\"\n\n    def assert_that(self, condition: bool, error_message: str):\n        \"\"\"\n        Базовый assertion.\n    \n        Args:\n            condition: Условие которое должно быть True\n            error_message: Сообщение об ошибке если условие False\n        \"\"\"\n>       assert condition, f\"❌ {error_message}\"\n               ^^^^^^^^^\nE       AssertionError: ❌ Не удалось кликнуть по кнопке 'Посмотреть квартиру 6'\n\npages\\core\\assertions.py:32: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1765443357969,"stop":1765443358071,"duration":102},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1765443358071,"stop":1765443358071,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_environment","time":{"start":1765443358071,"stop":1765443358071,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1765443358071,"stop":1765443358071,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1765443358071,"stop":1765443358534,"duration":463},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1765443358071,"stop":1765443358071,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1765443358071,"stop":1765443358071,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1765443358536,"stop":1765443358701,"duration":165},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1765443358536,"stop":1765443358536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1765443358536,"stop":1765443358536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1765443358536,"stop":1765443358536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1765443358536,"stop":1765443358536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1765443358701,"stop":1765443358725,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1765443358701,"stop":1765443358701,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1765443358725,"stop":1765443358725,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1765443358725,"stop":1765443358725,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1765443451926,"stop":1765443451934,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1765443451926,"stop":1765443451926,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1765443451926,"stop":1765443451926,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1765443451926,"stop":1765443451926,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1765443451934,"stop":1765443451990,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"mobile_page","time":{"start":1765443451990,"stop":1765443451990,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_test_parameters","time":{"start":1765443451990,"stop":1765443451990,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Тест навигации по зданиям, этажам и апартаментам проекта MARK на мобильном устройстве.","status":"failed","statusMessage":"AssertionError: ❌ Не удалось кликнуть по кнопке 'Посмотреть квартиру 6'","statusTrace":"mobile_page = <pages.mobile.mobile_page.MobilePage object at 0x00000286C5B3DFD0>\n\n    @allure.feature(\"LSR - Проект MARK (mobile)\")\n    @allure.story(\"Навигация по зданиям, этажам и апартаментам\")\n    @pytest.mark.smoke\n    @pytest.mark.regression\n    @pytest.mark.mobile\n    @pytest.mark.iphone\n    @pytest.mark.flaky(reruns=2, reruns_delay=2)\n    def test_mark_mobile_building_floor_apartment_navigation(mobile_page):\n        \"\"\"Тест навигации по зданиям, этажам и апартаментам проекта MARK на мобильном устройстве.\"\"\"\n    \n        with allure.step(\"Открываем страницу MARK на мобильном\"):\n            # Для MARK нет map роута, открываем напрямую страницу проекта\n            mobile_page.page.goto(mobile_page.base_url)\n            mobile_page.wait_for_page_load()\n    \n        with allure.step(\"Открываем мобильное меню\"):\n            mobile_page.mobile_navigation.open_mobile_menu()\n    \n        with allure.step(\"Навигация по зданию 1, этажу 6\"):\n            mobile_page.mobile_navigation.close_zoom_modal()\n    \n            # Кликаем на \"Корпус\" в мобильном меню\n            mobile_page.mobile_navigation.click_mark_building_menu()\n    \n            # Кликаем на корпус 1\n            building_clicked = mobile_page.mobile_navigation.click_mark_building_item(\n                building_number=1\n            )\n            mobile_page.assertions.assert_that(\n                building_clicked, \"Не удалось кликнуть по корпусу 1\"\n            )\n            mobile_page.assertions.assert_url_contains(\n                \"/building/mark-k1\", \"Не перешли на страницу здания 1\"\n            )\n    \n            # Ждем появления этажей внизу страницы\n            mobile_page.browser.wait_for_timeout(2000)\n    \n            # Кликаем на этаж 6 внизу страницы\n            floor_clicked = mobile_page.mobile_navigation.click_mark_floor_item(\n                floor_number=6\n            )\n            mobile_page.assertions.assert_that(\n                floor_clicked, \"Не удалось кликнуть по этажу 6\"\n            )\n    \n            # Кликаем на кнопку \"Посмотреть этаж 6\"\n            view_floor_clicked = mobile_page.mobile_navigation.click_mark_view_floor_button(\n                floor_number=6\n            )\n            mobile_page.assertions.assert_that(\n                view_floor_clicked, \"Не удалось кликнуть по кнопке 'Посмотреть этаж 6'\"\n            )\n    \n            # Ждем появления апартаментов внизу страницы\n            mobile_page.browser.wait_for_timeout(2000)\n    \n            # Выбираем первый доступный апартамент из списка внизу страницы\n            apartment_number = mobile_page.mobile_navigation.click_mark_apartment_item()\n            mobile_page.assertions.assert_that(\n                apartment_number, \"Не удалось выбрать апартамент\"\n            )\n    \n            # Кликаем на кнопку \"Посмотреть квартиру {номер}\"\n            view_apartment_clicked = (\n                mobile_page.mobile_navigation.click_mark_view_apartment_button(\n                    apartment_number\n                )\n            )\n>           mobile_page.assertions.assert_that(\n                view_apartment_clicked,\n                f\"Не удалось кликнуть по кнопке 'Посмотреть квартиру {apartment_number}'\",\n            )\n\ntests\\ui\\mobile\\lsr\\mark\\test_mark_mobile_building_floor_apartment_navigation.py:74: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.core.assertions.Assertions object at 0x00000286C5B3E190>\ncondition = False\nerror_message = \"Не удалось кликнуть по кнопке 'Посмотреть квартиру 6'\"\n\n    def assert_that(self, condition: bool, error_message: str):\n        \"\"\"\n        Базовый assertion.\n    \n        Args:\n            condition: Условие которое должно быть True\n            error_message: Сообщение об ошибке если условие False\n        \"\"\"\n>       assert condition, f\"❌ {error_message}\"\n               ^^^^^^^^^\nE       AssertionError: ❌ Не удалось кликнуть по кнопке 'Посмотреть квартиру 6'\n\npages\\core\\assertions.py:32: AssertionError","steps":[{"name":"Открываем страницу MARK на мобильном","time":{"start":1765443451991,"stop":1765443455909,"duration":3918},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываем мобильное меню","time":{"start":1765443455909,"stop":1765443458138,"duration":2229},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Навигация по зданию 1, этажу 6","time":{"start":1765443458138,"stop":1765443487938,"duration":29800},"status":"failed","statusMessage":"AssertionError: ❌ Не удалось кликнуть по кнопке 'Посмотреть квартиру 6'\n","statusTrace":"  File \"D:\\a\\catalog_autotests\\catalog_autotests\\tests\\ui\\mobile\\lsr\\mark\\test_mark_mobile_building_floor_apartment_navigation.py\", line 74, in test_mark_mobile_building_floor_apartment_navigation\n    mobile_page.assertions.assert_that(\n  File \"D:\\a\\catalog_autotests\\catalog_autotests\\pages\\core\\assertions.py\", line 32, in assert_that\n    assert condition, f\"❌ {error_message}\"\n           ^^^^^^^^^\n","steps":[],"attachments":[{"uid":"68c6eba4b1be9573","name":"Zoom Modal Not Found","source":"68c6eba4b1be9573.txt","type":"text/plain","size":89},{"uid":"3490962fb650c8b8","name":"View Apartment Button Error","source":"3490962fb650c8b8.txt","type":"text/plain","size":246}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":3,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_test_parameters::0","time":{"start":1765443487948,"stop":1765443488223,"duration":275},"status":"passed","steps":[],"attachments":[{"uid":"ecb656978feac17e","name":"screenshot","source":"ecb656978feac17e.png","type":"image/png","size":381696}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"new_context::0","time":{"start":1765443488224,"stop":1765443488236,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1765443488236,"stop":1765443488236,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1765443934267,"stop":1765443934317,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1765443934267,"stop":1765443934267,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1765443934319,"stop":1765443934330,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"device","value":"pixel_5"},{"name":"environment","value":"prod"},{"name":"feature","value":"LSR - Проект MARK (mobile)"},{"name":"story","value":"Навигация по зданиям, этажам и апартаментам"},{"name":"tag","value":"iphone"},{"name":"tag","value":"mobile"},{"name":"tag","value":"regression"},{"name":"tag","value":"smoke"},{"name":"parentSuite","value":"tests.ui.mobile.lsr.mark"},{"name":"suite","value":"test_mark_mobile_building_floor_apartment_navigation"},{"name":"host","value":"runnervm8j6r3"},{"name":"thread","value":"1968-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui.mobile.lsr.mark.test_mark_mobile_building_floor_apartment_navigation"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Device","value":"'pixel_5'"},{"name":"Operating System","value":"'Windows'"},{"name":"Platform","value":"'Unknown'"},{"name":"Viewport","value":"'393x851'"},{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["regression","mobile","smoke","iphone"]},"source":"b6c9c0e105a7b350.json","parameterValues":["'pixel_5'","'Windows'","'Unknown'","'393x851'","'chromium'"]}