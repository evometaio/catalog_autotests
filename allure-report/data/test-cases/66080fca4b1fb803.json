{"uid":"66080fca4b1fb803","name":"test_arisha_apartment_information[webkit-client]","fullName":"tests.ui.qube.arisha.test_arisha_apartment_widget#test_arisha_apartment_information","historyId":"e32a45c9ac55f5513868f1a65a5ed8ea","time":{"start":1764490794286,"stop":1764490814241,"duration":19955},"description":"Тест проверки информации об апартаменте Arisha на всех роутах.","descriptionHtml":"<p>Тест проверки информации об апартаменте Arisha на всех роутах.</p>\n","status":"failed","statusMessage":"AssertionError: ❌ Информация о здании не найдена","statusTrace":"arisha_page = <pages.projects.qube.arisha_page.ArishaPage object at 0x104b80bd0>\nroute_type = 'client'\n\n    @allure.feature(\"Qube - Проект Arisha\")\n    @allure.story(\"Информация об апартаменте\")\n    @pytest.mark.smoke\n    @pytest.mark.regression\n    @pytest.mark.ui\n    @pytest.mark.flaky(reruns=2)\n    @pytest.mark.parametrize(\"route_type\", [\"map\", \"agent\", \"client\"])\n    def test_arisha_apartment_information(arisha_page, route_type):\n        \"\"\"Тест проверки информации об апартаменте Arisha на всех роутах.\"\"\"\n    \n        with allure.step(f\"Открываем страницу {route_type} и переходим к проекту Arisha\"):\n            arisha_page.open(route_type=route_type)\n            arisha_page.map.navigate_to_project(\"arisha\")\n    \n        with allure.step(\"Кликаем на кнопку All units\"):\n            arisha_page.click_all_units_button()\n            arisha_page.assertions.assert_url_contains(\n                \"catalog_2d\", \"Не перешли на страницу каталога\"\n            )\n    \n        with allure.step(\"Ищем и кликаем на первый доступный апартамент\"):\n            arisha_page.navigation.find_and_click_available_apartment()\n    \n        with allure.step(\"Ожидаем полной загрузки страницы апартамента\"):\n            arisha_page.apartment_info.wait_for_info_to_appear()\n            arisha_page.browser.wait_for_timeout(2000)\n    \n        with allure.step(\"Проверяем информацию о здании\"):\n            building_visible = arisha_page.apartment_info.check_building_info()\n>           arisha_page.assertions.assert_that(\n                building_visible, \"Информация о здании не найдена\"\n            )\n\ntests/ui/qube/arisha/test_arisha_apartment_widget.py:132: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.core.assertions.Assertions object at 0x104b82390>\ncondition = False, error_message = 'Информация о здании не найдена'\n\n    def assert_that(self, condition: bool, error_message: str):\n        \"\"\"\n        Базовый assertion.\n    \n        Args:\n            condition: Условие которое должно быть True\n            error_message: Сообщение об ошибке если условие False\n        \"\"\"\n>       assert condition, f\"❌ {error_message}\"\n               ^^^^^^^^^\nE       AssertionError: ❌ Информация о здании не найдена\n\npages/core/assertions.py:32: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1764489933289,"stop":1764489933289,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1764489933289,"stop":1764489933355,"duration":66},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1764489933289,"stop":1764489933289,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1764489933289,"stop":1764489933289,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1764489933289,"stop":1764489933289,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_environment","time":{"start":1764489933356,"stop":1764489933356,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1764489933356,"stop":1764489933585,"duration":229},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1764489933586,"stop":1764489933586,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1764489933586,"stop":1764489933586,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1764489933586,"stop":1764489934509,"duration":923},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1764489933586,"stop":1764489933586,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1764489933586,"stop":1764489933586,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1764489934509,"stop":1764489934509,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1764489934509,"stop":1764489934509,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1764489934509,"stop":1764489934509,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1764489934509,"stop":1764489934509,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1764490794103,"stop":1764490794104,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1764490794104,"stop":1764490794104,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1764490794104,"stop":1764490794104,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1764490794104,"stop":1764490794113,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1764490794113,"stop":1764490794285,"duration":172},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_test_parameters","time":{"start":1764490794285,"stop":1764490794285,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"arisha_page","time":{"start":1764490794285,"stop":1764490794285,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Тест проверки информации об апартаменте Arisha на всех роутах.","status":"failed","statusMessage":"AssertionError: ❌ Информация о здании не найдена","statusTrace":"arisha_page = <pages.projects.qube.arisha_page.ArishaPage object at 0x104b80bd0>\nroute_type = 'client'\n\n    @allure.feature(\"Qube - Проект Arisha\")\n    @allure.story(\"Информация об апартаменте\")\n    @pytest.mark.smoke\n    @pytest.mark.regression\n    @pytest.mark.ui\n    @pytest.mark.flaky(reruns=2)\n    @pytest.mark.parametrize(\"route_type\", [\"map\", \"agent\", \"client\"])\n    def test_arisha_apartment_information(arisha_page, route_type):\n        \"\"\"Тест проверки информации об апартаменте Arisha на всех роутах.\"\"\"\n    \n        with allure.step(f\"Открываем страницу {route_type} и переходим к проекту Arisha\"):\n            arisha_page.open(route_type=route_type)\n            arisha_page.map.navigate_to_project(\"arisha\")\n    \n        with allure.step(\"Кликаем на кнопку All units\"):\n            arisha_page.click_all_units_button()\n            arisha_page.assertions.assert_url_contains(\n                \"catalog_2d\", \"Не перешли на страницу каталога\"\n            )\n    \n        with allure.step(\"Ищем и кликаем на первый доступный апартамент\"):\n            arisha_page.navigation.find_and_click_available_apartment()\n    \n        with allure.step(\"Ожидаем полной загрузки страницы апартамента\"):\n            arisha_page.apartment_info.wait_for_info_to_appear()\n            arisha_page.browser.wait_for_timeout(2000)\n    \n        with allure.step(\"Проверяем информацию о здании\"):\n            building_visible = arisha_page.apartment_info.check_building_info()\n>           arisha_page.assertions.assert_that(\n                building_visible, \"Информация о здании не найдена\"\n            )\n\ntests/ui/qube/arisha/test_arisha_apartment_widget.py:132: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.core.assertions.Assertions object at 0x104b82390>\ncondition = False, error_message = 'Информация о здании не найдена'\n\n    def assert_that(self, condition: bool, error_message: str):\n        \"\"\"\n        Базовый assertion.\n    \n        Args:\n            condition: Условие которое должно быть True\n            error_message: Сообщение об ошибке если условие False\n        \"\"\"\n>       assert condition, f\"❌ {error_message}\"\n               ^^^^^^^^^\nE       AssertionError: ❌ Информация о здании не найдена\n\npages/core/assertions.py:32: AssertionError","steps":[{"name":"Открываем страницу client и переходим к проекту Arisha","time":{"start":1764490794286,"stop":1764490802994,"duration":8708},"status":"passed","steps":[{"name":"Навигация к проекту ARISHA","time":{"start":1764490799031,"stop":1764490802994,"duration":3963},"status":"passed","steps":[{"name":"Ожидаем загрузки карты","time":{"start":1764490799031,"stop":1764490801110,"duration":2079},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Кликаем на проект ARISHA","time":{"start":1764490801110,"stop":1764490801191,"duration":81},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Кликаем на Explore Project для ARISHA","time":{"start":1764490801191,"stop":1764490802994,"duration":1803},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Кликаем на кнопку All units","time":{"start":1764490802994,"stop":1764490806471,"duration":3477},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Ищем и кликаем на первый доступный апартамент","time":{"start":1764490806471,"stop":1764490810144,"duration":3673},"status":"passed","steps":[{"name":"Ищем доступный апартамент в каталоге","time":{"start":1764490806471,"stop":1764490810144,"duration":3673},"status":"passed","steps":[],"attachments":[{"uid":"2f88e851ab841a31","name":"Selected Apartment","source":"2f88e851ab841a31.attach","type":"text/plain","size":49}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Ожидаем полной загрузки страницы апартамента","time":{"start":1764490810144,"stop":1764490814231,"duration":4087},"status":"passed","steps":[{"name":"Ожидаем появления информации об апартаменте","time":{"start":1764490810144,"stop":1764490812225,"duration":2081},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяем информацию о здании","time":{"start":1764490814231,"stop":1764490814241,"duration":10},"status":"failed","statusMessage":"AssertionError: ❌ Информация о здании не найдена\n","statusTrace":"  File \"/Users/runner/work/catalog_autotests/catalog_autotests/tests/ui/qube/arisha/test_arisha_apartment_widget.py\", line 132, in test_arisha_apartment_information\n    arisha_page.assertions.assert_that(\n  File \"/Users/runner/work/catalog_autotests/catalog_autotests/pages/core/assertions.py\", line 32, in assert_that\n    assert condition, f\"❌ {error_message}\"\n           ^^^^^^^^^\n","steps":[{"name":"Проверяем информацию о здании","time":{"start":1764490814231,"stop":1764490814241,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":12,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_test_parameters::0","time":{"start":1764490814247,"stop":1764490814442,"duration":195},"status":"passed","steps":[],"attachments":[{"uid":"34e4efb706e7cf58","name":"screenshot","source":"34e4efb706e7cf58.png","type":"image/png","size":107505}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"new_context::0","time":{"start":1764490814443,"stop":1764490814476,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1764490814477,"stop":1764490814477,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1764490939248,"stop":1764490939248,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1764490939249,"stop":1764490939264,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1764490939266,"stop":1764490939271,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"environment","value":"prod"},{"name":"story","value":"Информация об апартаменте"},{"name":"feature","value":"Qube - Проект Arisha"},{"name":"tag","value":"ui"},{"name":"tag","value":"regression"},{"name":"tag","value":"smoke"},{"name":"parentSuite","value":"tests.ui.qube.arisha"},{"name":"suite","value":"test_arisha_apartment_widget"},{"name":"host","value":"sjc22-be106-a0734751-9d51-47a6-89ed-201c13f26181-AE88D7FE275E.local"},{"name":"thread","value":"22425-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui.qube.arisha.test_arisha_apartment_widget"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Device","value":"'desktop'"},{"name":"Operating System","value":"'macOS'"},{"name":"Platform","value":"'macos-latest'"},{"name":"browser_name","value":"'webkit'"},{"name":"route_type","value":"'client'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["ui","regression","smoke"]},"source":"66080fca4b1fb803.json","parameterValues":["'desktop'","'macOS'","'macos-latest'","'webkit'","'client'"]}